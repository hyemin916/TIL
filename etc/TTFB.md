# TTFB

## TTFB란?

TTFB(Time To First Byte)란 웹 서버가 요청에 응답하는 데 걸리는 시간이다. 유저가 사이트에 방문하기 위해 링크를 클릭하는 순간 시작된다. 구글은 TTFB를 다음과 같이 정의했다.

> 최초의 응답을 기다리는 시간이다. 이 시간은 서버가 응답을 전달하는 시간 외에도 서버를 왕복할 때의 지연시간을 포함한다.

TTFB를 향상시키기 위해서는 서버가 데이터를 받고 결과를 반환하는 시간을 향상시켜야 한다.

## 느린 TTFB란?

구글은 TTFB가 평균 1.3초 이하일 것을 권장한다. 하지만 이 또한 너무 길 수도 있다. 성능 검사 툴인 Lighthouse는 TTFB가 600ms 이상이면 경고한다.

## TTFB를 어떻게 개선시킬까?

TTFB 개선은 복잡한 주제이며, 서버 응답 시간이 오래 걸리는 데에는 많은 이유가 있을 수 있다. 서버 속도를 개선시킬 수 있는 보통의 방법은 다음과 같다.

- 서버 어플리케이션 로직 개선
- 데이터베이스 및 쿼리 최적화
- 웹 서버 리소스(CPU, 메모리) 업그레이드

그 외에 즉각적 결과를 얻기 위해서는 다음과 같은 방법도 있다.

- CDN 사용
- hosting provider 변경

# CDN 사용

CDN은 content delivery network이다. CDN은 전 세계 웹페이지를 캐시해서 사용자가 더 빨리 다운로드할 수 있게 해준다. 블로그 포스트와 같은 정적인 데이터라면, CDN은 웹사이트 성능을 향상시키기 위한 가장 빠른 선택지이다.

유저가 웹 사이트를 방문할 때마다 웹 서버에 요청을 보내는 대신, 로컬 CDN에서 파일을 받아서 TTFB를 줄일 수 있다.
